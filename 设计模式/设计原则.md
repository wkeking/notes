## 设计原则

### 单一职责原则

对于一个类，应该仅有一个引起他变化的原因。如果一个类承担的职责过多，就等于把这些职责耦合在一起，一个职责的变化可能会削弱或者抑制这个类完成其他职责的能力，另外，多个职责耦合在一起，会影响复用性。这种耦合会导致脆弱的设计，当变化发生时，设计会遭受到意想不到破坏。

软件设计真正要做的许多内容，就是发现职责并把这些职责相互分离。如何判断是否应该分离出类来，那就是如果你能够想到多于一个的动机去改变一个类，那么这个类就具有多于一个的职责。

### 开放-封闭原则

对软件实体（类、函数、模块等）应该可以扩展，但是不可修改。面对需求，对程序的改动是通过增加新代码进行的，而不是更改现有的代码。所以对于可能发生的变化，我们创建抽象来隔离以后发生的同类变化。

开放-封闭原则是面向对象设计的核心所在。遵循这个原则可以带来面向对象技术的好处，也就是可维护、可扩展、可复用、灵活性好。开发人员应该仅对程序种呈现出频繁变化的部分做出抽象，然而，对于应用程序中的每个部分都刻意地进行抽象同样不是一个好主意。拒绝不成熟地抽象和抽象本身一样重要。

### 里氏代换原则

任何父类型可以出现的地方，子类型一定可以出现。一个软件实体如果使用地是一个父类地话，那么一定适用于其子类，而且它察觉不出父类对象和子类对象地区别。也就是说，在软件里面，把父类都替换成它的子类，程序的行为没有变化。只有当子类可以替换掉父类，软件单位的功能不受到影响时，父类才能真正被复用，而子类也能够在父类的基础上增加新的行为。由于子类型的可替换性才使得父类类型的模块在无需修改的情况下就可以扩展。

里氏代换原则是继承复用地基石，是对开-闭原则的补充。实现开-闭原则的关键步骤就是抽象化，而父类和子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。

### 依赖倒转原则

抽象不应该依赖细节，细节应该依赖于抽象。简单说就是针对接口编程，不要对实现编程，这样就降低了客户端与实现模块间的耦合。高层模块不应该依赖底层模块，两者都应该依赖抽象。

实现开-闭原则的关键是抽象化，并且从抽象导出具体化实现，如果说开-闭原则是面向对象设计的目标的话，那么依赖倒转就是面向对象设计的主要手段。用哪种语言来编写程序不重要，如果编写时可以考虑的都是如何针对抽象编程而不是针对细节编程，即程序中所有的依赖关系都是终止于抽象类或者接口，那就是面向对象的设计。

### 接口隔离原则

客户端不应该依赖它不需要的接口，一个类对另一个类的依赖应该建立在最小的接口上。一个接口代表一个角色，不应当将不同的角色都交给一个接口。没有关系的接口合并在一起，形成一个臃肿的大接口，这是对角色和接口的污染。

使用多个隔离的接口，比使用单个接口要好。有降低类之间耦合度的意思。

### 合成复用原则

在一个新的对象里通过关联关系（包括组合关系和聚合关系）来使用一些已有的对象，使之成为新对象的一部分。新对象通过委派调用已有对象的方法达到复用其已有功能的目的。简而言之，要尽可能使用组合/聚合关系，少用继承。

### 迪米特法则

迪米特法则，也叫最小知道原则，如果两个类不必彼此直接通信，那么这两个类就不应当发生直接的相互作用。如果其中一个类需要调用另一个类的某一个方法的话，可以通过第三者转发这个调用。

迪米特法则的根本思想，是强调了类之间的松耦合。类之间的耦合越松，越有利于复用，一个处在弱耦合的类被修改，不会对有关系的类造成波及。